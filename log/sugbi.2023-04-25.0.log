2023-04-25 20:47:17,200 [main] DEBUG org.jboss.logging - Logging Provider: org.jboss.logging.Slf4jLoggerProvider 
2023-04-25 20:47:17,900 [main] INFO  io.undertow - starting server: Undertow - 2.2.4.Final 
2023-04-25 20:47:17,906 [main] INFO  org.xnio - XNIO version 3.8.0.Final 
2023-04-25 20:47:18,000 [main] INFO  org.jboss.threads - JBoss Threads version 3.1.0.Final 
2023-04-25 20:47:18,043 [main] DEBUG io.undertow - Configuring listener with protocol HTTP for interface 0.0.0.0 and port 9630 
2023-04-25 20:49:35,289 [nREPL-session-e50ccf47-b43d-4583-ae21-650f01fa8d9c] ERROR com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Exception during pool initialization. 
org.postgresql.util.PSQLException: FATAL: password authentication failed for user "sugbi"
	at org.postgresql.core.v3.ConnectionFactoryImpl.doAuthentication(ConnectionFactoryImpl.java:646)
	at org.postgresql.core.v3.ConnectionFactoryImpl.tryConnect(ConnectionFactoryImpl.java:180)
	at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:235)
	at org.postgresql.core.ConnectionFactory.openConnection(ConnectionFactory.java:49)
	at org.postgresql.jdbc.PgConnection.<init>(PgConnection.java:223)
	at org.postgresql.Driver.makeConnection(Driver.java:468)
	at org.postgresql.Driver.connect(Driver.java:267)
	at com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:121)
	at com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:364)
	at com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:206)
	at com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:476)
	at com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:561)
	at com.zaxxer.hikari.pool.HikariPool.<init>(HikariPool.java:115)
	at com.zaxxer.hikari.HikariDataSource.<init>(HikariDataSource.java:81)
	at hikari_cp.core$make_datasource.invokeStatic(core.clj:268)
	at hikari_cp.core$make_datasource.invoke(core.clj:265)
	at conman.core$connect_BANG_.invokeStatic(core.clj:159)
	at conman.core$connect_BANG_.invoke(core.clj:155)
	at sugbi.db.core$eval13577$fn__13578.invoke(core.clj:15)
	at mount.core$record_BANG_.invokeStatic(core.cljc:74)
	at mount.core$record_BANG_.invoke(core.cljc:73)
	at mount.core$up$fn__457.invoke(core.cljc:81)
	at mount.core$up.invokeStatic(core.cljc:80)
	at mount.core$up.invoke(core.cljc:78)
	at mount.core$bring.invokeStatic(core.cljc:247)
	at mount.core$bring.invoke(core.cljc:239)
	at mount.core$start.invokeStatic(core.cljc:289)
	at mount.core$start.doInvoke(core.cljc:281)
	at clojure.lang.RestFn.applyTo(RestFn.java:137)
	at clojure.core$apply.invokeStatic(core.clj:667)
	at clojure.core$apply.invoke(core.clj:662)
	at mount.core$start_without.invokeStatic(core.cljc:409)
	at mount.core$start_without.doInvoke(core.cljc:403)
	at clojure.lang.RestFn.invoke(RestFn.java:408)
	at user$start.invokeStatic(user.clj:22)
	at user$start.invoke(user.clj:18)
	at shadow.user$eval55549.invokeStatic(form-init16816086510667310454.clj:46)
	at shadow.user$eval55549.invoke(form-init16816086510667310454.clj:46)
	at clojure.lang.Compiler.eval(Compiler.java:7194)
	at clojure.lang.Compiler.eval(Compiler.java:7149)
	at clojure.core$eval.invokeStatic(core.clj:3215)
	at clojure.core$eval.invoke(core.clj:3211)
	at nrepl.middleware.interruptible_eval$evaluate$fn__26123$fn__26124.invoke(interruptible_eval.clj:87)
	at clojure.lang.AFn.applyToHelper(AFn.java:152)
	at clojure.lang.AFn.applyTo(AFn.java:144)
	at clojure.core$apply.invokeStatic(core.clj:667)
	at clojure.core$with_bindings_STAR_.invokeStatic(core.clj:1990)
	at clojure.core$with_bindings_STAR_.doInvoke(core.clj:1990)
	at clojure.lang.RestFn.invoke(RestFn.java:425)
	at nrepl.middleware.interruptible_eval$evaluate$fn__26123.invoke(interruptible_eval.clj:87)
	at clojure.main$repl$read_eval_print__9206$fn__9209.invoke(main.clj:437)
	at clojure.main$repl$read_eval_print__9206.invoke(main.clj:437)
	at clojure.main$repl$fn__9215.invoke(main.clj:458)
	at clojure.main$repl.invokeStatic(main.clj:458)
	at clojure.main$repl.doInvoke(main.clj:368)
	at clojure.lang.RestFn.invoke(RestFn.java:1523)
	at nrepl.middleware.interruptible_eval$evaluate.invokeStatic(interruptible_eval.clj:84)
	at nrepl.middleware.interruptible_eval$evaluate.invoke(interruptible_eval.clj:56)
	at nrepl.middleware.interruptible_eval$interruptible_eval$fn__26156$fn__26160.invoke(interruptible_eval.clj:152)
	at clojure.lang.AFn.run(AFn.java:22)
	at nrepl.middleware.session$session_exec$main_loop__26226$fn__26230.invoke(session.clj:218)
	at nrepl.middleware.session$session_exec$main_loop__26226.invoke(session.clj:217)
	at clojure.lang.AFn.run(AFn.java:22)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-04-25 20:50:22,625 [nREPL-session-e50ccf47-b43d-4583-ae21-650f01fa8d9c] INFO  migratus.core - Starting migrations 
2023-04-25 20:50:22,672 [nREPL-session-e50ccf47-b43d-4583-ae21-650f01fa8d9c] ERROR migratus.database - Error creating DB connection for {:connection-uri "uri-censored"} 
org.postgresql.util.PSQLException: FATAL: password authentication failed for user "sugbi"
	at org.postgresql.core.v3.ConnectionFactoryImpl.doAuthentication(ConnectionFactoryImpl.java:646)
	at org.postgresql.core.v3.ConnectionFactoryImpl.tryConnect(ConnectionFactoryImpl.java:180)
	at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:235)
	at org.postgresql.core.ConnectionFactory.openConnection(ConnectionFactory.java:49)
	at org.postgresql.jdbc.PgConnection.<init>(PgConnection.java:223)
	at org.postgresql.Driver.makeConnection(Driver.java:468)
	at org.postgresql.Driver.connect(Driver.java:267)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:189)
	at next.jdbc.connection$get_driver_connection.invokeStatic(connection.clj:148)
	at next.jdbc.connection$get_driver_connection.invoke(connection.clj:143)
	at next.jdbc.connection$url_PLUS_etc$reify__12376.getConnection(connection.clj:369)
	at next.jdbc.connection$make_connection.invokeStatic(connection.clj:395)
	at next.jdbc.connection$make_connection.invoke(connection.clj:379)
	at next.jdbc.connection$eval12397$fn__12398.invoke(connection.clj:424)
	at next.jdbc.protocols$eval12145$fn__12146$G__12136__12153.invoke(protocols.clj:24)
	at next.jdbc.connection$eval12405$fn__12406.invoke(connection.clj:431)
	at next.jdbc.protocols$eval12145$fn__12146$G__12136__12153.invoke(protocols.clj:24)
	at next.jdbc$get_connection.invokeStatic(jdbc.clj:167)
	at next.jdbc$get_connection.invoke(jdbc.clj:146)
	at migratus.database$connect_STAR_$fn__28217.invoke(database.clj:153)
	at migratus.database$connect_STAR_.invokeStatic(database.clj:150)
	at migratus.database$connect_STAR_.invoke(database.clj:137)
	at migratus.database.Database.connect(database.clj:311)
	at migratus.core$run.invokeStatic(core.clj:53)
	at migratus.core$run.invoke(core.clj:50)
	at migratus.core$reset.invokeStatic(core.clj:167)
	at migratus.core$reset.invoke(core.clj:163)
	at luminus_migrations.core$fn__28414.invokeStatic(core.clj:28)
	at luminus_migrations.core$fn__28414.invoke(core.clj:27)
	at luminus_migrations.core$migrate.invokeStatic(core.clj:98)
	at luminus_migrations.core$migrate.invoke(core.clj:84)
	at user$reset_db.invokeStatic(user.clj:44)
	at user$reset_db.invoke(user.clj:41)
	at shadow.user$eval55781.invokeStatic(form-init16816086510667310454.clj:115)
	at shadow.user$eval55781.invoke(form-init16816086510667310454.clj:115)
	at clojure.lang.Compiler.eval(Compiler.java:7194)
	at clojure.lang.Compiler.eval(Compiler.java:7149)
	at clojure.core$eval.invokeStatic(core.clj:3215)
	at clojure.core$eval.invoke(core.clj:3211)
	at nrepl.middleware.interruptible_eval$evaluate$fn__26123$fn__26124.invoke(interruptible_eval.clj:87)
	at clojure.lang.AFn.applyToHelper(AFn.java:152)
	at clojure.lang.AFn.applyTo(AFn.java:144)
	at clojure.core$apply.invokeStatic(core.clj:667)
	at clojure.core$with_bindings_STAR_.invokeStatic(core.clj:1990)
	at clojure.core$with_bindings_STAR_.doInvoke(core.clj:1990)
	at clojure.lang.RestFn.invoke(RestFn.java:425)
	at nrepl.middleware.interruptible_eval$evaluate$fn__26123.invoke(interruptible_eval.clj:87)
	at clojure.main$repl$read_eval_print__9206$fn__9209.invoke(main.clj:437)
	at clojure.main$repl$read_eval_print__9206.invoke(main.clj:437)
	at clojure.main$repl$fn__9215.invoke(main.clj:458)
	at clojure.main$repl.invokeStatic(main.clj:458)
	at clojure.main$repl.doInvoke(main.clj:368)
	at clojure.lang.RestFn.invoke(RestFn.java:1523)
	at nrepl.middleware.interruptible_eval$evaluate.invokeStatic(interruptible_eval.clj:84)
	at nrepl.middleware.interruptible_eval$evaluate.invoke(interruptible_eval.clj:56)
	at nrepl.middleware.interruptible_eval$interruptible_eval$fn__26156$fn__26160.invoke(interruptible_eval.clj:152)
	at clojure.lang.AFn.run(AFn.java:22)
	at nrepl.middleware.session$session_exec$main_loop__26226$fn__26230.invoke(session.clj:218)
	at nrepl.middleware.session$session_exec$main_loop__26226.invoke(session.clj:217)
	at clojure.lang.AFn.run(AFn.java:22)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-04-25 20:50:22,674 [nREPL-session-e50ccf47-b43d-4583-ae21-650f01fa8d9c] INFO  migratus.core - Ending migrations 
2023-04-25 21:01:06,907 [nREPL-session-e50ccf47-b43d-4583-ae21-650f01fa8d9c] INFO  sugbi.env - 
-=[sugbi started successfully using the development profile]=- 
2023-04-25 21:01:07,470 [nREPL-session-e50ccf47-b43d-4583-ae21-650f01fa8d9c] INFO  luminus.http-server - server started on port 3000 
2023-04-25 21:11:19,365 [Thread-1] INFO  io.undertow - stopping server: Undertow - 2.2.4.Final 
2023-04-25 23:42:56,236 [main] DEBUG org.jboss.logging - Logging Provider: org.jboss.logging.Slf4jLoggerProvider 
2023-04-25 23:42:56,949 [main] INFO  io.undertow - starting server: Undertow - 2.2.4.Final 
2023-04-25 23:42:56,957 [main] INFO  org.xnio - XNIO version 3.8.0.Final 
2023-04-25 23:42:57,060 [main] INFO  org.jboss.threads - JBoss Threads version 3.1.0.Final 
2023-04-25 23:42:57,098 [main] DEBUG io.undertow - Configuring listener with protocol HTTP for interface 0.0.0.0 and port 9630 
2023-04-25 23:43:52,689 [nREPL-session-05671d6c-8ccb-4c34-bae9-4e896a7a7976] INFO  sugbi.env - 
-=[sugbi started successfully using the development profile]=- 
2023-04-25 23:43:53,397 [nREPL-session-05671d6c-8ccb-4c34-bae9-4e896a7a7976] INFO  luminus.http-server - server started on port 3000 
2023-04-25 23:44:02,180 [nREPL-session-05671d6c-8ccb-4c34-bae9-4e896a7a7976] INFO  migratus.core - Starting migrations 
2023-04-25 23:44:02,235 [nREPL-session-05671d6c-8ccb-4c34-bae9-4e896a7a7976] INFO  migratus.database - creating migration table 'schema_migrations' 
2023-04-25 23:44:02,283 [nREPL-session-05671d6c-8ccb-4c34-bae9-4e896a7a7976] DEBUG migratus.migrations - Looking for migrations in #object[java.io.File 0x936c178 /home/gaeldelameme/Ciencias/Ingeniería de Software/Prácticas/Práctica02/sugbi/resources/migrations] 
2023-04-25 23:44:02,286 [nREPL-session-05671d6c-8ccb-4c34-bae9-4e896a7a7976] WARN  migratus.migrations - skipping: '20230426030416-lendings.up.sql~' migrations must match pattern: ^(\d+)-([^\.]+)((?:\.[^\.]+)+)$ 
2023-04-25 23:44:02,288 [nREPL-session-05671d6c-8ccb-4c34-bae9-4e896a7a7976] WARN  migratus.migrations - skipping: '20230426030416-lendings.down.sql~' migrations must match pattern: ^(\d+)-([^\.]+)((?:\.[^\.]+)+)$ 
2023-04-25 23:44:02,290 [nREPL-session-05671d6c-8ccb-4c34-bae9-4e896a7a7976] INFO  migratus.core - Ending migrations 
2023-04-25 23:44:02,291 [nREPL-session-05671d6c-8ccb-4c34-bae9-4e896a7a7976] INFO  migratus.core - Starting migrations 
2023-04-25 23:44:02,314 [nREPL-session-05671d6c-8ccb-4c34-bae9-4e896a7a7976] DEBUG migratus.migrations - Looking for migrations in #object[java.io.File 0x5a547e96 /home/gaeldelameme/Ciencias/Ingeniería de Software/Prácticas/Práctica02/sugbi/resources/migrations] 
2023-04-25 23:44:02,315 [nREPL-session-05671d6c-8ccb-4c34-bae9-4e896a7a7976] WARN  migratus.migrations - skipping: '20230426030416-lendings.up.sql~' migrations must match pattern: ^(\d+)-([^\.]+)((?:\.[^\.]+)+)$ 
2023-04-25 23:44:02,315 [nREPL-session-05671d6c-8ccb-4c34-bae9-4e896a7a7976] WARN  migratus.migrations - skipping: '20230426030416-lendings.down.sql~' migrations must match pattern: ^(\d+)-([^\.]+)((?:\.[^\.]+)+)$ 
2023-04-25 23:44:02,317 [nREPL-session-05671d6c-8ccb-4c34-bae9-4e896a7a7976] INFO  migratus.core - Running up for [20230228002443 20230321184035 20230417032642 20230426030416] 
2023-04-25 23:44:02,318 [nREPL-session-05671d6c-8ccb-4c34-bae9-4e896a7a7976] INFO  migratus.core - Up 20230228002443-initial-catalog-model 
2023-04-25 23:44:02,320 [nREPL-session-05671d6c-8ccb-4c34-bae9-4e896a7a7976] INFO  migratus.database - Connection is  {:connection #object[org.postgresql.jdbc.PgConnection 0xb997f29 org.postgresql.jdbc.PgConnection@b997f29]} Config is {:store :database, :db {:connection-uri uri-censored}} 
2023-04-25 23:44:02,330 [nREPL-session-05671d6c-8ccb-4c34-bae9-4e896a7a7976] DEBUG migratus.migration.sql - found 4 up migrations 
2023-04-25 23:44:02,351 [nREPL-session-05671d6c-8ccb-4c34-bae9-4e896a7a7976] DEBUG migratus.database - marking 20230228002443 complete 
2023-04-25 23:44:02,361 [nREPL-session-05671d6c-8ccb-4c34-bae9-4e896a7a7976] INFO  migratus.core - Up 20230321184035-removes-catalog-book-info 
2023-04-25 23:44:02,361 [nREPL-session-05671d6c-8ccb-4c34-bae9-4e896a7a7976] INFO  migratus.database - Connection is  {:connection #object[org.postgresql.jdbc.PgConnection 0xb997f29 org.postgresql.jdbc.PgConnection@b997f29]} Config is {:store :database, :db {:connection-uri uri-censored}} 
2023-04-25 23:44:02,365 [nREPL-session-05671d6c-8ccb-4c34-bae9-4e896a7a7976] DEBUG migratus.migration.sql - found 3 up migrations 
2023-04-25 23:44:02,373 [nREPL-session-05671d6c-8ccb-4c34-bae9-4e896a7a7976] DEBUG migratus.database - marking 20230321184035 complete 
2023-04-25 23:44:02,377 [nREPL-session-05671d6c-8ccb-4c34-bae9-4e896a7a7976] INFO  migratus.core - Up 20230417032642-adds-librarians 
2023-04-25 23:44:02,378 [nREPL-session-05671d6c-8ccb-4c34-bae9-4e896a7a7976] INFO  migratus.database - Connection is  {:connection #object[org.postgresql.jdbc.PgConnection 0xb997f29 org.postgresql.jdbc.PgConnection@b997f29]} Config is {:store :database, :db {:connection-uri uri-censored}} 
2023-04-25 23:44:02,380 [nREPL-session-05671d6c-8ccb-4c34-bae9-4e896a7a7976] DEBUG migratus.migration.sql - found 2 up migrations 
2023-04-25 23:44:02,387 [nREPL-session-05671d6c-8ccb-4c34-bae9-4e896a7a7976] DEBUG migratus.database - marking 20230417032642 complete 
2023-04-25 23:44:02,390 [nREPL-session-05671d6c-8ccb-4c34-bae9-4e896a7a7976] INFO  migratus.core - Up 20230426030416-lendings 
2023-04-25 23:44:02,390 [nREPL-session-05671d6c-8ccb-4c34-bae9-4e896a7a7976] INFO  migratus.database - Connection is  {:connection #object[org.postgresql.jdbc.PgConnection 0xb997f29 org.postgresql.jdbc.PgConnection@b997f29]} Config is {:store :database, :db {:connection-uri uri-censored}} 
2023-04-25 23:44:02,394 [nREPL-session-05671d6c-8ccb-4c34-bae9-4e896a7a7976] DEBUG migratus.migration.sql - found 2 up migrations 
2023-04-25 23:44:02,407 [nREPL-session-05671d6c-8ccb-4c34-bae9-4e896a7a7976] ERROR migratus.migration.sql - failed to execute command:
 CREATE TABLE catalog.lending (
lending_id bigint generated always as identity primary key,
user_id integer  not null unique,
book_id INTEGER NOT NULL REFERENCES catalog.book,
lending_date DATE NOT NULL,
return_date DATE NOT NULL
);

CREATE OR REPLACE FUNCTION update_book_copies()
RETURNS TRIGGER AS $$
BEGIN
IF TG_OP = 'INSERT' THEN
UPDATE books SET copies = copies + 1 WHERE id = NEW.book_id;
ELSIF TG_OP = 'DELETE' THEN
UPDATE books SET copies = copies - 1 WHERE id = OLD.book_id;
END IF;
RETURN NULL;
END;
$$ LANGUAGE plpgsql;

CREATE TRIGGER update_book_copies_trigger
AFTER INSERT OR DELETE ON lending
FOR EACH ROW
EXECUTE FUNCTION update_book_copies();
 
2023-04-25 23:44:02,408 [nREPL-session-05671d6c-8ccb-4c34-bae9-4e896a7a7976] ERROR migratus.migration.sql - ERROR: relation "lending" does not exist 
2023-04-25 23:44:02,410 [nREPL-session-05671d6c-8ccb-4c34-bae9-4e896a7a7976] ERROR migratus.database - Migration lendings failed because Batch entry 1 <unknown> was aborted: Too many update results were returned.  Call getNextException to see other errors in the batch. backing out 
2023-04-25 23:44:02,412 [nREPL-session-05671d6c-8ccb-4c34-bae9-4e896a7a7976] DEBUG migratus.migration.sql - found 2 down migrations 
2023-04-25 23:44:02,414 [nREPL-session-05671d6c-8ccb-4c34-bae9-4e896a7a7976] ERROR migratus.migration.sql - failed to execute command:
 alter table catalog.book
drop column copies,
drop column available;
 
2023-04-25 23:44:02,414 [nREPL-session-05671d6c-8ccb-4c34-bae9-4e896a7a7976] ERROR migratus.migration.sql - ERROR: column "copies" of relation "book" does not exist 
2023-04-25 23:44:02,415 [nREPL-session-05671d6c-8ccb-4c34-bae9-4e896a7a7976] DEBUG migratus.database - As expected, one of the statements failed in lendings while backing out the migration 
java.sql.BatchUpdateException: Batch entry 0 alter table catalog.book
drop column copies,
drop column available was aborted: ERROR: column "copies" of relation "book" does not exist  Call getNextException to see other errors in the batch.
	at org.postgresql.jdbc.BatchResultHandler.handleError(BatchResultHandler.java:165)
	at org.postgresql.core.ResultHandlerDelegate.handleError(ResultHandlerDelegate.java:52)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2366)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:559)
	at org.postgresql.jdbc.PgStatement.internalExecuteBatch(PgStatement.java:887)
	at org.postgresql.jdbc.PgStatement.executeBatch(PgStatement.java:910)
	at migratus.migration.sql$do_commands.invokeStatic(sql.clj:71)
	at migratus.migration.sql$do_commands.invoke(sql.clj:60)
	at migratus.migration.sql$execute_command$fn__27811.invoke(sql.clj:79)
	at migratus.migration.sql$execute_command.invokeStatic(sql.clj:78)
	at migratus.migration.sql$execute_command.invoke(sql.clj:75)
	at migratus.migration.sql$run_sql_STAR_.invokeStatic(sql.clj:96)
	at migratus.migration.sql$run_sql_STAR_.invoke(sql.clj:92)
	at migratus.migration.sql$run_sql$fn__27829.invoke(sql.clj:103)
	at next.jdbc.transaction$transact_STAR_.invokeStatic(transaction.clj:72)
	at next.jdbc.transaction$transact_STAR_.invoke(transaction.clj:51)
	at next.jdbc.transaction$eval13275$fn__13276.invoke(transaction.clj:121)
	at next.jdbc.protocols$eval12267$fn__12268$G__12258__12277.invoke(protocols.clj:57)
	at next.jdbc$transact.invokeStatic(jdbc.clj:381)
	at next.jdbc$transact.invoke(jdbc.clj:373)
	at migratus.migration.sql$run_sql.invokeStatic(sql.clj:102)
	at migratus.migration.sql$run_sql.invoke(sql.clj:98)
	at migratus.migration.sql.SqlMigration.down(sql.clj:122)
	at migratus.database$migrate_up_STAR_$fn__28197.invoke(database.clj:89)
	at migratus.database$migrate_up_STAR_.invokeStatic(database.clj:88)
	at migratus.database$migrate_up_STAR_.invoke(database.clj:74)
	at migratus.database.Database$fn__28263.invoke(database.clj:301)
	at next.jdbc.transaction$transact_STAR_.invokeStatic(transaction.clj:72)
	at next.jdbc.transaction$transact_STAR_.invoke(transaction.clj:51)
	at next.jdbc.transaction$eval13275$fn__13276.invoke(transaction.clj:121)
	at next.jdbc.protocols$eval12267$fn__12268$G__12258__12277.invoke(protocols.clj:57)
	at next.jdbc$transact.invokeStatic(jdbc.clj:381)
	at next.jdbc$transact.invoke(jdbc.clj:373)
	at migratus.database.Database.migrate_up(database.clj:300)
	at migratus.core$up_STAR_.invokeStatic(core.clj:83)
	at migratus.core$up_STAR_.invoke(core.clj:81)
	at migratus.core$migrate_up_STAR_.invokeStatic(core.clj:94)
	at migratus.core$migrate_up_STAR_.invoke(core.clj:85)
	at migratus.core$migrate_STAR_.invokeStatic(core.clj:107)
	at migratus.core$migrate_STAR_.invoke(core.clj:103)
	at clojure.core$partial$fn__5908.invoke(core.clj:2642)
	at migratus.core$run.invokeStatic(core.clj:54)
	at migratus.core$run.invoke(core.clj:50)
	at migratus.core$migrate.invokeStatic(core.clj:114)
	at migratus.core$migrate.invoke(core.clj:109)
	at migratus.core$reset.invokeStatic(core.clj:168)
	at migratus.core$reset.invoke(core.clj:163)
	at luminus_migrations.core$fn__28414.invokeStatic(core.clj:28)
	at luminus_migrations.core$fn__28414.invoke(core.clj:27)
	at luminus_migrations.core$migrate.invokeStatic(core.clj:98)
	at luminus_migrations.core$migrate.invoke(core.clj:84)
	at user$reset_db.invokeStatic(user.clj:44)
	at user$reset_db.invoke(user.clj:41)
	at shadow.user$eval55564.invokeStatic(form-init18256466357072550745.clj:57)
	at shadow.user$eval55564.invoke(form-init18256466357072550745.clj:57)
	at clojure.lang.Compiler.eval(Compiler.java:7194)
	at clojure.lang.Compiler.eval(Compiler.java:7149)
	at clojure.core$eval.invokeStatic(core.clj:3215)
	at clojure.core$eval.invoke(core.clj:3211)
	at nrepl.middleware.interruptible_eval$evaluate$fn__26123$fn__26124.invoke(interruptible_eval.clj:87)
	at clojure.lang.AFn.applyToHelper(AFn.java:152)
	at clojure.lang.AFn.applyTo(AFn.java:144)
	at clojure.core$apply.invokeStatic(core.clj:667)
	at clojure.core$with_bindings_STAR_.invokeStatic(core.clj:1990)
	at clojure.core$with_bindings_STAR_.doInvoke(core.clj:1990)
	at clojure.lang.RestFn.invoke(RestFn.java:425)
	at nrepl.middleware.interruptible_eval$evaluate$fn__26123.invoke(interruptible_eval.clj:87)
	at clojure.main$repl$read_eval_print__9206$fn__9209.invoke(main.clj:437)
	at clojure.main$repl$read_eval_print__9206.invoke(main.clj:437)
	at clojure.main$repl$fn__9215.invoke(main.clj:458)
	at clojure.main$repl.invokeStatic(main.clj:458)
	at clojure.main$repl.doInvoke(main.clj:368)
	at clojure.lang.RestFn.invoke(RestFn.java:1523)
	at nrepl.middleware.interruptible_eval$evaluate.invokeStatic(interruptible_eval.clj:84)
	at nrepl.middleware.interruptible_eval$evaluate.invoke(interruptible_eval.clj:56)
	at nrepl.middleware.interruptible_eval$interruptible_eval$fn__26156$fn__26160.invoke(interruptible_eval.clj:152)
	at clojure.lang.AFn.run(AFn.java:22)
	at nrepl.middleware.session$session_exec$main_loop__26226$fn__26230.invoke(session.clj:218)
	at nrepl.middleware.session$session_exec$main_loop__26226.invoke(session.clj:217)
	at clojure.lang.AFn.run(AFn.java:22)
	at java.base/java.lang.Thread.run(Thread.java:829)
Caused by: org.postgresql.util.PSQLException: ERROR: column "copies" of relation "book" does not exist
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2675)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2365)
	... 78 common frames omitted
2023-04-25 23:44:02,422 [nREPL-session-05671d6c-8ccb-4c34-bae9-4e896a7a7976] INFO  migratus.core - Ending migrations 
2023-04-25 23:45:36,837 [nREPL-session-05671d6c-8ccb-4c34-bae9-4e896a7a7976] INFO  migratus.core - Starting migrations 
2023-04-25 23:45:36,856 [nREPL-session-05671d6c-8ccb-4c34-bae9-4e896a7a7976] DEBUG migratus.migrations - Looking for migrations in #object[java.io.File 0x385d99ac /home/gaeldelameme/Ciencias/Ingeniería de Software/Prácticas/Práctica02/sugbi/resources/migrations] 
2023-04-25 23:45:36,857 [nREPL-session-05671d6c-8ccb-4c34-bae9-4e896a7a7976] WARN  migratus.migrations - skipping: '20230426030416-lendings.up.sql~' migrations must match pattern: ^(\d+)-([^\.]+)((?:\.[^\.]+)+)$ 
2023-04-25 23:45:36,858 [nREPL-session-05671d6c-8ccb-4c34-bae9-4e896a7a7976] WARN  migratus.migrations - skipping: '20230426030416-lendings.down.sql~' migrations must match pattern: ^(\d+)-([^\.]+)((?:\.[^\.]+)+)$ 
2023-04-25 23:45:36,860 [nREPL-session-05671d6c-8ccb-4c34-bae9-4e896a7a7976] INFO  migratus.core - Running down for [20230417032642 20230321184035 20230228002443] 
2023-04-25 23:45:36,860 [nREPL-session-05671d6c-8ccb-4c34-bae9-4e896a7a7976] INFO  migratus.core - Down 20230417032642-adds-librarians 
2023-04-25 23:45:36,861 [nREPL-session-05671d6c-8ccb-4c34-bae9-4e896a7a7976] INFO  migratus.database - Connection is  {:connection #object[org.postgresql.jdbc.PgConnection 0x71361d48 org.postgresql.jdbc.PgConnection@71361d48]} Config is {:store :database, :db {:connection-uri uri-censored}} 
2023-04-25 23:45:36,866 [nREPL-session-05671d6c-8ccb-4c34-bae9-4e896a7a7976] DEBUG migratus.migration.sql - found 2 down migrations 
2023-04-25 23:45:36,878 [nREPL-session-05671d6c-8ccb-4c34-bae9-4e896a7a7976] DEBUG migratus.database - marking 20230417032642 not complete 
2023-04-25 23:45:36,881 [nREPL-session-05671d6c-8ccb-4c34-bae9-4e896a7a7976] INFO  migratus.core - Down 20230321184035-removes-catalog-book-info 
2023-04-25 23:45:36,881 [nREPL-session-05671d6c-8ccb-4c34-bae9-4e896a7a7976] INFO  migratus.database - Connection is  {:connection #object[org.postgresql.jdbc.PgConnection 0x71361d48 org.postgresql.jdbc.PgConnection@71361d48]} Config is {:store :database, :db {:connection-uri uri-censored}} 
2023-04-25 23:45:36,883 [nREPL-session-05671d6c-8ccb-4c34-bae9-4e896a7a7976] DEBUG migratus.migration.sql - found 3 down migrations 
2023-04-25 23:45:36,892 [nREPL-session-05671d6c-8ccb-4c34-bae9-4e896a7a7976] DEBUG migratus.database - marking 20230321184035 not complete 
2023-04-25 23:45:36,894 [nREPL-session-05671d6c-8ccb-4c34-bae9-4e896a7a7976] INFO  migratus.core - Down 20230228002443-initial-catalog-model 
2023-04-25 23:45:36,895 [nREPL-session-05671d6c-8ccb-4c34-bae9-4e896a7a7976] INFO  migratus.database - Connection is  {:connection #object[org.postgresql.jdbc.PgConnection 0x71361d48 org.postgresql.jdbc.PgConnection@71361d48]} Config is {:store :database, :db {:connection-uri uri-censored}} 
2023-04-25 23:45:36,897 [nREPL-session-05671d6c-8ccb-4c34-bae9-4e896a7a7976] DEBUG migratus.migration.sql - found 4 down migrations 
2023-04-25 23:45:36,903 [nREPL-session-05671d6c-8ccb-4c34-bae9-4e896a7a7976] DEBUG migratus.database - marking 20230228002443 not complete 
2023-04-25 23:45:36,905 [nREPL-session-05671d6c-8ccb-4c34-bae9-4e896a7a7976] INFO  migratus.core - Ending migrations 
2023-04-25 23:45:36,906 [nREPL-session-05671d6c-8ccb-4c34-bae9-4e896a7a7976] INFO  migratus.core - Starting migrations 
2023-04-25 23:45:36,924 [nREPL-session-05671d6c-8ccb-4c34-bae9-4e896a7a7976] DEBUG migratus.migrations - Looking for migrations in #object[java.io.File 0x607762df /home/gaeldelameme/Ciencias/Ingeniería de Software/Prácticas/Práctica02/sugbi/resources/migrations] 
2023-04-25 23:45:36,925 [nREPL-session-05671d6c-8ccb-4c34-bae9-4e896a7a7976] WARN  migratus.migrations - skipping: '20230426030416-lendings.up.sql~' migrations must match pattern: ^(\d+)-([^\.]+)((?:\.[^\.]+)+)$ 
2023-04-25 23:45:36,926 [nREPL-session-05671d6c-8ccb-4c34-bae9-4e896a7a7976] WARN  migratus.migrations - skipping: '20230426030416-lendings.down.sql~' migrations must match pattern: ^(\d+)-([^\.]+)((?:\.[^\.]+)+)$ 
2023-04-25 23:45:36,927 [nREPL-session-05671d6c-8ccb-4c34-bae9-4e896a7a7976] INFO  migratus.core - Running up for [20230228002443 20230321184035 20230417032642 20230426030416] 
2023-04-25 23:45:36,927 [nREPL-session-05671d6c-8ccb-4c34-bae9-4e896a7a7976] INFO  migratus.core - Up 20230228002443-initial-catalog-model 
2023-04-25 23:45:36,927 [nREPL-session-05671d6c-8ccb-4c34-bae9-4e896a7a7976] INFO  migratus.database - Connection is  {:connection #object[org.postgresql.jdbc.PgConnection 0x1b961971 org.postgresql.jdbc.PgConnection@1b961971]} Config is {:store :database, :db {:connection-uri uri-censored}} 
2023-04-25 23:45:36,932 [nREPL-session-05671d6c-8ccb-4c34-bae9-4e896a7a7976] DEBUG migratus.migration.sql - found 4 up migrations 
2023-04-25 23:45:36,947 [nREPL-session-05671d6c-8ccb-4c34-bae9-4e896a7a7976] DEBUG migratus.database - marking 20230228002443 complete 
2023-04-25 23:45:36,950 [nREPL-session-05671d6c-8ccb-4c34-bae9-4e896a7a7976] INFO  migratus.core - Up 20230321184035-removes-catalog-book-info 
2023-04-25 23:45:36,950 [nREPL-session-05671d6c-8ccb-4c34-bae9-4e896a7a7976] INFO  migratus.database - Connection is  {:connection #object[org.postgresql.jdbc.PgConnection 0x1b961971 org.postgresql.jdbc.PgConnection@1b961971]} Config is {:store :database, :db {:connection-uri uri-censored}} 
2023-04-25 23:45:36,953 [nREPL-session-05671d6c-8ccb-4c34-bae9-4e896a7a7976] DEBUG migratus.migration.sql - found 3 up migrations 
2023-04-25 23:45:36,958 [nREPL-session-05671d6c-8ccb-4c34-bae9-4e896a7a7976] DEBUG migratus.database - marking 20230321184035 complete 
2023-04-25 23:45:36,961 [nREPL-session-05671d6c-8ccb-4c34-bae9-4e896a7a7976] INFO  migratus.core - Up 20230417032642-adds-librarians 
2023-04-25 23:45:36,961 [nREPL-session-05671d6c-8ccb-4c34-bae9-4e896a7a7976] INFO  migratus.database - Connection is  {:connection #object[org.postgresql.jdbc.PgConnection 0x1b961971 org.postgresql.jdbc.PgConnection@1b961971]} Config is {:store :database, :db {:connection-uri uri-censored}} 
2023-04-25 23:45:36,964 [nREPL-session-05671d6c-8ccb-4c34-bae9-4e896a7a7976] DEBUG migratus.migration.sql - found 2 up migrations 
2023-04-25 23:45:36,970 [nREPL-session-05671d6c-8ccb-4c34-bae9-4e896a7a7976] DEBUG migratus.database - marking 20230417032642 complete 
2023-04-25 23:45:36,973 [nREPL-session-05671d6c-8ccb-4c34-bae9-4e896a7a7976] INFO  migratus.core - Up 20230426030416-lendings 
2023-04-25 23:45:36,974 [nREPL-session-05671d6c-8ccb-4c34-bae9-4e896a7a7976] INFO  migratus.database - Connection is  {:connection #object[org.postgresql.jdbc.PgConnection 0x1b961971 org.postgresql.jdbc.PgConnection@1b961971]} Config is {:store :database, :db {:connection-uri uri-censored}} 
2023-04-25 23:45:36,976 [nREPL-session-05671d6c-8ccb-4c34-bae9-4e896a7a7976] DEBUG migratus.migration.sql - found 2 up migrations 
2023-04-25 23:45:36,982 [nREPL-session-05671d6c-8ccb-4c34-bae9-4e896a7a7976] DEBUG migratus.database - marking 20230426030416 complete 
2023-04-25 23:45:36,985 [nREPL-session-05671d6c-8ccb-4c34-bae9-4e896a7a7976] INFO  migratus.core - Ending migrations 
2023-04-25 23:46:07,011 [Thread-1] INFO  io.undertow - stopping server: Undertow - 2.2.4.Final 
